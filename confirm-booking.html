<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Confirm booking</title>
    <link rel="stylesheet" href="css/main.css">
    <script type="module">
        "use strict";
        import {calcPrice} from "./calc-cost.js";

        window.onload = () => {
            const searchParams = new URL(window.location.href).searchParams;
            // fill form values from url
            searchParams.forEach((x, y) =>  {
                console.log (x, y, document.getElementById(y));
                document.getElementById(y).value = x;
            });
            document.getElementById("cost").innerText = calcPrice(searchParams);
        }
    </script>
</head>
<body>
<div id="container" class="">
    <header>
        <div id="header-container">
            <section class="utility-bar">
                <article class="logo-container">
                    <div class="logo-box">
                        <img src="https://images.hertz.com/rac/misc/refresh09/logo_hertz_app.png" alt="Company logo">
                    </div>
                </article>
            </section>
            <div id="nav-container">
                <article class="nav-menu">
                    <table border="0" cellpadding="0" cellspacing="0">
                        <tbody>
                        <tr>
                            <td class="skip-to-content">
                                <a href="#main-content" class="skip-to-content">Skip to content</a>
                            </td>
                            <td>
                                <a href="car-guide.html">Car Guide</a>
                            </td>
                            <td>
                                <a href="index.html">Car Hire</a>
                            </td>
                            <td>
                                <a href="not-implemented.html">Van Hire</a>
                            </td>
                            <td>
                                <a href="not-implemented.html">Locations</a>
                            </td>
                            <td>
                                <a href="not-implemented.html">Business Hire</a>
                            </td>
                            <td>
                                <a href="not-implemented.html">Offers</a>
                            </td>
                            <td>
                                <a href="not-implemented.html">Products</a>
                            </td>
                            <td>
                                <a href="not-implemented.html">Help</a>
                            </td>
                            <td>
                                <a href="not-implemented.html">Gold Plus Reward</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </article>
            </div>
        </div>
    </header>
    <div id="page">
       <div id="reservation-container">
           <div id="reservation-heading">
               <h1 id="main-content">Confirm your booking</h1>
           </div>
           <div id="help-button">
             <abbr title="You use car guide to choose your car! This link will take you to our car guide page">
                 <a href="car-guide.html">
                     <img src="img/help.svg" alt="help-button" aria-label="You use car guide to choose your car! This link will take you to our car guide page.">
                 </a>
             </abbr>
           </div>
           <form method="GET">
               <div id="location-time-date">
                   <div class="label">
                       <label>
                           Pick-up Location
                           <input type="text" name="location" id="location" required>
                       </label>
                       <label>
                           Pick-up Date and Time
                           <input type="date" id="pick-up-date" name="pick-up-date" value="" required aria-label="Pickup date input with format month - day - year">
                           <input type="time" id="pick-up-time" name="pick-up-time" value="" required aria-label="Pickup time input with format hour - minute - PM or AM">
                       </label>
                       <label>
                           Return Date and Time
                           <input type="date" name="return-date" id="return-date" value="" required aria-label="Return date input with format month - day - year">
                           <input type="time" name="return-time" id="return-time" value="" required aria-label="Return time input with format hour - minute - PM or AM">
                       </label>
                   </div>
               </div>
               <div id="car-details">
                   <label>
                       Car category
                       <select name="car-category" id="car-category" class="label">
                           <option value="A">A</option>
                           <option value="B">B</option>
                           <option value="C">C</option>
                           <option value="D">D</option>
                       </select>
                   </label>
               </div>
               <b>The cost is: <span id="cost">0</span></b>
               <div id="submit-container" class="flex-center-row">
                   <input type="submit" class="button flex-grow-1" value="Cancel" formaction="index.html">
                   <input type="submit" class="button flex-grow-1" value="Recalculate" formaction="confirm-booking.html">
                   <input type="submit" class="button flex-grow-1" value="Confirm" formaction="booking-result.html">
               </div>
           </form>
       </div>
    </div>
</div>
</body>
</html>
